{
  "title": "Yabai Keybindings",
  "rules": [
    {
      "description": "Yabai - Toggle Float",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "a",
            "modifiers": {
              "mandatory": ["left_option"]
            }
          },
          "to": [
            {
              "shell_command": "yabai -m window --toggle float && fish ~/.dotfiles/scripts/center_current_window.fish"
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Show Desktop",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "return_or_enter",
            "modifiers": {
              "mandatory": ["left_option"]
            }
          },
          "to": [
            {
              "shell_command": "yabai -m space --toggle show-desktop"
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Move to Next Space",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "n",
            "modifiers": {
              "mandatory": ["left_option"]
            }
          },
          "to": [
            {
              "shell_command": "yabai -m window --space next"
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Move to Previous Space",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "n",
            "modifiers": {
              "mandatory": ["left_option", "left_shift"]
            }
          },
          "to": [
            {
              "shell_command": "~/.dotfiles/scripts/yabai-window-previous-space"
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Move to Next Display",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "d",
            "modifiers": {
              "mandatory": ["left_option"]
            }
          },
          "to": [
            {
              "shell_command": "yabai -m window --display next"
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Move to Previous Display",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "d",
            "modifiers": {
              "mandatory": ["left_option", "left_shift"]
            }
          },
          "to": [
            {
              "shell_command": "yabai -m window --display prev"
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Warp Window West",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "h",
            "modifiers": {
              "mandatory": ["left_option", "left_control"]
            }
          },
          "to": [
            {
              "shell_command": "yabai -m window --warp west"
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Warp Window East",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "l",
            "modifiers": {
              "mandatory": ["left_option", "left_control"]
            }
          },
          "to": [
            {
              "shell_command": "yabai -m window --warp east"
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Warp Window South",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "j",
            "modifiers": {
              "mandatory": ["left_option", "left_control"]
            }
          },
          "to": [
            {
              "shell_command": "yabai -m window --warp south"
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Warp Window North",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "k",
            "modifiers": {
              "mandatory": ["left_option", "left_control"]
            }
          },
          "to": [
            {
              "shell_command": "yabai -m window --warp north"
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Mirror Y-axis",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "y",
            "modifiers": {
              "mandatory": ["left_option"]
            }
          },
          "to": [
            {
              "shell_command": "yabai -m space --mirror y-axis"
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Mirror X-axis",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "x",
            "modifiers": {
              "mandatory": ["left_option"]
            }
          },
          "to": [
            {
              "shell_command": "yabai -m space --mirror x-axis"
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Insert Stack",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "s",
            "modifiers": {
              "mandatory": ["left_option"]
            }
          },
          "to": [
            {
              "shell_command": "yabai -m window --insert stack"
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Focus West",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "h",
            "modifiers": {
              "mandatory": ["left_option"]
            }
          },
          "to": [
            {
              "shell_command": "yabai -m window --focus west"
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Focus East",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "l",
            "modifiers": {
              "mandatory": ["left_option"]
            }
          },
          "to": [
            {
              "shell_command": "yabai -m window --focus east"
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Focus South",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "j",
            "modifiers": {
              "mandatory": ["left_option"]
            }
          },
          "to": [
            {
              "shell_command": "yabai -m window --focus south"
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Focus North",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "k",
            "modifiers": {
              "mandatory": ["left_option"]
            }
          },
          "to": [
            {
              "shell_command": "yabai -m window --focus north"
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Next Space (System)",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "l",
            "modifiers": {
              "mandatory": ["left_option", "left_shift"]
            }
          },
          "to": [
            {
              "key_code": "right_arrow",
              "modifiers": ["left_control"]
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Previous Space (System)",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "h",
            "modifiers": {
              "mandatory": ["left_option", "left_shift"]
            }
          },
          "to": [
            {
              "key_code": "left_arrow",
              "modifiers": ["left_control"]
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Focus Next Display",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "m",
            "modifiers": {
              "mandatory": ["left_option"]
            }
          },
          "to": [
            {
              "shell_command": "yabai -m display --focus next || yabai -m display --focus prev"
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Toggle Fullscreen",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "f",
            "modifiers": {
              "mandatory": ["left_option"]
            }
          },
          "to": [
            {
              "shell_command": "yabai -m window --toggle zoom-fullscreen"
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Change Layout",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "b",
            "modifiers": {
              "mandatory": ["left_option"]
            }
          },
          "to": [
            {
              "shell_command": "fish ~/.dotfiles/scripts/change_layout.fish"
            }
          ]
        }
      ]
    },
    {
      "description": "Yabai - Reset Window Sizes",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "0",
            "modifiers": {
              "mandatory": ["left_option"]
            }
          },
          "to": [
            {
              "shell_command": "yabai -m query --spaces --window | jq -r '.[0].windows.[]' | xargs -L 1 -I{} yabai -m window {} --ratio abs:0.5:0.5"
            }
          ]
        }
      ]
    }
  ]
}
